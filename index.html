<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Insulina - Diabetes Tipo 1</title>
    <!-- Importa o ficheiro de estilos CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Container principal da aplica√ß√£o -->
    <div class="container">
        <!-- Cabe√ßalho da aplica√ß√£o -->
        <h1>üíâ Calculadora de Insulina</h1>
        <p class="subtitle">Diabetes Tipo 1</p>

        <!-- Sec√ß√£o: Configura√ß√µes Pessoais -->
        <!-- Aqui o utilizador define os seus valores de FSI e ratios -->
        <div class="section">
            <div class="section-title">Configura√ß√µes Pessoais</div>
            
            <!-- Seletor do per√≠odo do dia -->
            <!-- Permite escolher entre Manh√£, Tarde, Noite ou Madrugada -->
            <div class="input-group">
                <label for="periodoFSI">Per√≠odo do Dia</label>
                <select id="periodoFSI" onchange="atualizarPeriodo()">
                    <option value="manha">Manh√£ (6h - 12h)</option>
                    <option value="tarde">Tarde (12h - 18h)</option>
                    <option value="noite">Noite (18h - 23h)</option>
                    <option value="madrugada">Madrugada (23h - 6h)</option>
                </select>
            </div>

            <!-- Campos para FSI (Fator de Sensibilidade √† Insulina) -->
            <!-- FSI = quanto 1 unidade de insulina baixa a glicemia (em mg/dL) -->
            <div class="input-group">
                <label for="fsiManha">FSI - Manh√£</label>
                <input type="number" id="fsiManha" placeholder="Ex: 50" step="1">
            </div>

            <div class="input-group">
                <label for="fsiTarde">FSI - Tarde</label>
                <input type="number" id="fsiTarde" placeholder="Ex: 45" step="1">
            </div>

            <div class="input-group">
                <label for="fsiNoite">FSI - Noite</label>
                <input type="number" id="fsiNoite" placeholder="Ex: 40" step="1">
            </div>

            <div class="input-group">
                <label for="fsiMadrugada">FSI - Madrugada</label>
                <input type="number" id="fsiMadrugada" placeholder="Ex: 55" step="1">
            </div>

            <!-- R√°cio Insulina/Carboidratos -->
            <!-- Define quantos gramas de HC s√£o cobertos por 1 unidade de insulina -->
            <div class="input-group">
                <label for="razaoCarboidrato">R√°cio Insulina/Hidratos (1:X)</label>
                <input type="number" id="razaoCarboidrato" placeholder="Ex: 15" step="1">
            </div>

            <!-- Meta de glicemia desejada -->
            <div class="input-group">
                <label for="metaGlicemia">Meta de Glicemia (mg/dL)</label>
                <input type="number" id="metaGlicemia" placeholder="Ex: 100" step="1" value="100">
            </div>
        </div>

        <!-- Sec√ß√£o: Dados Atuais -->
        <!-- Valores que mudam a cada medi√ß√£o/refei√ß√£o -->
        <div class="section">
            <div class="section-title">Dados Atuais</div>
            
            <!-- Glicemia atual medida pelo glic√≥metro -->
            <div class="input-group">
                <label for="glicemiaAtual">Glicemia Atual (mg/dL)</label>
                <input type="number" id="glicemiaAtual" placeholder="Ex: 180" step="1">
            </div>

            <!-- Quantidade de hidratos de carbono que vai consumir -->
            <div class="input-group">
                <label for="carboidratos">Hidratos de Carbono a Consumir (gramas)</label>
                <input type="number" id="carboidratos" placeholder="Ex: 60" step="1">
            </div>
        </div>

        <!-- Bot√£o principal para calcular a dose -->
        <button class="btn" onclick="calcularInsulina()">Calcular Dose de Insulina</button>

        <!-- Bot√µes para salvar e limpar as configura√ß√µes -->
        <div class="save-buttons">
            <button class="btn-secondary" onclick="salvarConfiguracoes()">üíæ Salvar Configura√ß√µes</button>
            <button class="btn-secondary" onclick="limparConfiguracoes()">üóëÔ∏è Limpar Dados</button>
        </div>

        <!-- Mensagem de confirma√ß√£o quando as configura√ß√µes s√£o salvas -->
        <div class="saved-message" id="mensagemSalva">
            ‚úì Configura√ß√µes salvas com sucesso!
        </div>

        <!-- √Årea de resultados do c√°lculo -->
        <!-- Inicialmente escondida, aparece ap√≥s o c√°lculo -->
        <div class="result" id="resultado">
            <div class="result-title">üìä Resultado do C√°lculo</div>
            
            <!-- FSI utilizado no c√°lculo (varia conforme o per√≠odo) -->
            <div class="result-item">
                <div class="result-label">FSI Utilizado (<span id="periodoUtilizado"></span>)</div>
                <div class="result-value" id="fsiUtilizado">0 mg/dL</div>
            </div>

            <!-- Dose para corrigir a glicemia atual at√© √† meta -->
            <div class="result-item">
                <div class="result-label">Dose de Corre√ß√£o</div>
                <div class="result-value" id="doseCorrecao">0 U</div>
            </div>

            <!-- Dose para cobrir os hidratos de carbono -->
            <div class="result-item">
                <div class="result-label">Dose para Hidratos de Carbono</div>
                <div class="result-value" id="doseCarboidratos">0 U</div>
            </div>

            <!-- Dose total = corre√ß√£o + carboidratos -->
            <div class="result-item" style="background: rgba(255, 255, 255, 0.3);">
                <div class="result-label">DOSE TOTAL DE INSULINA</div>
                <div class="result-value" id="doseTotal">0 U</div>
            </div>
        </div>

        <!-- Texto informativo sobre os conceitos -->
        <p class="info-text">
            <strong>FSI:</strong> Quanto 1 unidade de insulina diminui sua glicemia (mg/dL)<br>
            <strong>Raz√£o I:C:</strong> Quantos gramas de carboidrato 1 unidade de insulina cobre
        </p>
    </div>

    <!-- Importa o ficheiro JavaScript com toda a l√≥gica -->
    <script src="script.js"></script>
</body>
</html>